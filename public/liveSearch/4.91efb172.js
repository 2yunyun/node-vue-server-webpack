webpackJsonp([4],{311:function(n,e,t){"use strict";function a(n){return n&&n.__esModule?n:{"default":n}}function i(n){return function(){var e=n.apply(this,arguments);return new Promise(function(n,t){function a(i,s){try{var o=e[i](s),r=o.value}catch(d){return void t(d)}return o.done?void n(r):Promise.resolve(r).then(function(n){return a("next",n)},function(n){return a("throw",n)})}return a("next")})}}Object.defineProperty(e,"__esModule",{value:!0});var s=t(300),o=a(s),r=t(312),d=a(r),c=t(313),u=a(c);t(314);var l=t(315),v=o["default"].extend({template:d["default"],init:function(){},ready:function(){$.init()},data:function(){return u["default"]},methods:{loadList:function(){var n=this;return i(regeneratorRuntime.mark(function e(){var t,a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=n.$route.params.keyword,e.next=4,(0,l.searchLiveRoom)(t,n.page);case 4:if(a=e.sent,a&&0==a.errno){for(n.pandaList.total=a.data.total,i=0;i<a.data.items.length;i+=1)n.pandaList.items.push(a.data.items[i]);n.page+=1}e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),$.toast("请求熊猫TV失败");case 11:case"end":return e.stop()}},e,n,[[0,8]])}))()}},computed:{isLoadOver:function(){return this.pandaList.items.length>=parseInt(this.pandaList.total)}},route:{data:function(n){n.to.params.keyword;this.loadList()},deactivate:function(n){this.pandaList={items:[],total:0},this.page=1,n.next()}}});e["default"]=v},312:function(n,e){n.exports='<div class="content panda">\n\n    <div class="row" style="margin: 0;">\n        <div class="col-50 video-box"\n             @click="goRoute(\'/video?url=\'+encodeURIComponent(\'http://m.panda.tv/room.html?roomid=\'+item.roomid),this)"\n             v-for="item in pandaList.items | filterBy date in \'updatetime\'"\n             transition="video-box"\n             stagger="200">\n            <span class="video-tag video-tag-online">直播</span>\n            <img :src.once="item.pictures.img" style="width: 100%">\n\n            <div class="video-title">\n               {{{item.name}}}\n            </div>\n            <div class="video-info">\n                <span class="video-nickname">{{item.nickname}}</span>\n                <span class="video-number">{{item.person_num}}</span>\n                <span class="video-cate">{{item.classification}}</span>\n            </div>\n        </div>\n\n        <div class="col-50 video-box" v-if="!isLoadOver"\n             @click="loadList()">\n            <img style="width: 100%;padding-bottom: 56.8%;">\n            <div class="load-more">加载更多</div>\n            <div class="video-title">\n                &emsp;\n            </div>\n            <div class="video-info">\n                <span class="">&emsp;</span>\n                <span class="">&emsp;</span>\n                <span class="">&emsp;</span>\n            </div>\n        </div>\n        <div class="col-50 video-box" v-else>\n            <img style="width: 100%;padding-bottom: 56.8%;">\n            <div class="load-more">没有更多了</div>\n            <div class="video-title">\n                &emsp;\n            </div>\n            <div class="video-info">\n                <span class="">&emsp;</span>\n                <span class="">&emsp;</span>\n                <span class="">&emsp;</span>\n            </div>\n        </div>\n    </div>\n\n</div>'},313:function(n,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t={date:(new Date).Format("yyyy-MM-dd"),pandaList:{items:[],total:0},page:1};e["default"]=t},314:function(n,e){},315:function(n,e,t){"use strict";function a(n){return n&&n.__esModule?n:{"default":n}}function i(n){return function(){var e=n.apply(this,arguments);return new Promise(function(n,t){function a(i,s){try{var o=e[i](s),r=o.value}catch(d){return void t(d)}return o.done?void n(r):Promise.resolve(r).then(function(n){return a("next",n)},function(n){return a("throw",n)})}return a("next")})}}Object.defineProperty(e,"__esModule",{value:!0}),e.searchLiveRoom=void 0;var s=(e.searchLiveRoom=function(){var n=i(regeneratorRuntime.mark(function e(n,t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e,a){$.ajax({type:"GET",url:"/panda/"+n+"?page="+t,success:function(n){e(n)},error:function(n){a("请求失败")}})}));case 1:case"end":return e.stop()}},e,this)}));return function(e,t){return n.apply(this,arguments)}}(),t(316));a(s)},316:function(n,e,t){"use strict";function a(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(e,"__esModule",{value:!0});var i=t(299),s=a(i),o={searchPandaLiveRoom:s["default"].host_panda+"/ajax_search"};e["default"]=o}});
//# sourceMappingURL=4.91efb172.js.map