{"version":3,"sources":["webhooks.es6"],"names":[],"mappings":";;;;;;kBAEe,UAAU,GAAV,EAAe,GAAf,EAAoB;;AAE/B,YAAQ,IAAR,EAAc,CAAC,cAAD,CAAd,EAAgC,UAAS,IAAT,EAAc;AAC1C,gBAAQ,GAAR,CAAY,IAAZ;AACA,YAAI,GAAJ,CAAQ,IAAR;AACH,KAHD;AAKH,C;;AAED,SAAS,OAAT,CAAiB,GAAjB,EAAsB,IAAtB,EAA4B,QAA5B,EAAsC;AAClC,QAAI,QAAQ,QAAQ,eAAR,EAAyB,KAArC;AACA,QAAI,QAAQ,MAAM,GAAN,EAAW,IAAX,CAAZ;AACA,QAAI,OAAO,EAAX;;AAEA,UAAM,MAAN,CAAa,EAAb,CAAgB,MAAhB,EAAwB,UAAS,MAAT,EAAiB;AAAE,gBAAQ,OAAO,QAAP,EAAR;AAA4B,KAAvE;AACA,UAAM,MAAN,CAAa,EAAb,CAAgB,KAAhB,EAAuB,YAAW;AAAE,iBAAU,IAAV;AAAiB,KAArD;AACH","file":"webhooks.js","sourcesContent":["\n\nexport default function (req, res) {\n\n    run_cmd('sh', ['./restart.sh'], function(text){\n        console.log(text)\n        res.end(text);\n    });\n\n}\n\nfunction run_cmd(cmd, args, callback) {\n    var spawn = require('child_process').spawn;\n    var child = spawn(cmd, args);\n    var resp = \"\";\n\n    child.stdout.on('data', function(buffer) { resp += buffer.toString(); });\n    child.stdout.on('end', function() { callback (resp) });\n}"]}