{"version":3,"sources":["server.es6"],"names":[],"mappings":"AAAA;;AACA;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AAEA;;IAAY,S;;AACZ;;;;AACA;;;;;;;;AAEA,IAAI,MAAM,wBAAV;AACA,IAAI,GAAJ,CAAQ,6BAAR;;;AAGA,IAAI,MAAM,cAAO,QAAP,IAAmB,aAA7B;AACA,IAAI,QAAQ,aAAZ,EAA2B;AACvB,QAAI,UAAU,QAAQ,SAAR,CAAd;AACA,QAAI,uBAAuB,QAAQ,wBAAR,CAA3B;AACA,QAAI,gBAAgB,QAAQ,sBAAR,CAApB;AACA,QAAI,GAAJ,CAAQ,qBAAqB,QAAQ,aAAR,CAArB,EAA6C;AACjD,oBAAY,cADqC;AAEjD,eAAO;AACH,oBAAQ;AADL;AAF0C,KAA7C,CAAR;AAMA,QAAI,GAAJ,CAAQ,OAAR,EAAgB,YAAY,mBAA5B;AACH,CAXD,MAWK;AACD,QAAI,GAAJ,CAAQ,OAAR,EAAgB,YAAY,oBAA5B;AACH;AACD,IAAI,GAAJ,CAAQ,aAAR,EAAuB,MAAvB;AACA,IAAI,MAAJ,CAAW,OAAX,EAAoB,QAAQ,KAAR,EAAe,SAAnC;;AAEA,IAAI,GAAJ,CAAQ,qBAAW,UAAX,CAAsB,EAAE,UAAU,IAAZ,EAAtB,CAAR;AACA,IAAI,GAAJ,CAAQ,qBAAW,IAAX,EAAR;AACA,IAAI,GAAJ,CAAQ,+BAAR;AACA,IAAI,GAAJ,CAAQ,6BAAR;AACA,IAAI,GAAJ,CAAQ,kBAAQ,MAAR,CAAe,YAAU,SAAzB,CAAR;;;AAGA,IAAI,GAAJ,CAAQ,GAAR;AACA,IAAI,GAAJ,CAAQ,kBAAR;AACA,IAAI,GAAJ,CAAQ,wBAAR;AACA,IAAI,GAAJ,CAAQ,uBAAR;AACA,IAAI,GAAJ,CAAQ,wBAAR;AACA,IAAI,GAAJ,CAAQ,uBAAR;AACA,IAAI,GAAJ,CAAQ,yBAAR;AACA,IAAI,GAAJ,CAAQ,QAAR;;;AAGA,IAAI,GAAJ,CAAQ,iBAAR,EAA0B,UAAU,KAApC;AACA,IAAI,GAAJ,CAAQ,gBAAR,EAAyB,UAAU,IAAnC;AACA,IAAI,GAAJ,CAAQ,iBAAR,EAA0B,UAAU,KAApC;AACA,IAAI,GAAJ,CAAQ,gBAAR,EAAyB,UAAU,IAAnC;AACA,IAAI,GAAJ,CAAQ,kBAAR,EAA2B,UAAU,MAArC;;AAEA,IAAI,MAAJ,CAAW,cAAO,IAAlB,EAAwB,YAAU;AAC9B,YAAQ,GAAR,CAAY,qDAAZ,EAAmE,cAAO,IAA1E,EAAgF,cAAO,QAAP,IAAmB,EAAnG;AACH,CAFD","file":"server.js","sourcesContent":["'use strict'\nimport \"babel-polyfill\"\nimport express from \"express\";\nimport bodyParser from \"body-parser\";\nimport errorHandler from \"errorhandler\";\nimport methodOverride from \"method-override\";\nimport cookieParser from \"cookie-parser\";\nimport config from './env'\n\nimport * as clientApi from './server/routes/clientApi'\nimport index from \"./server/routes/index\"\nimport search from './server/routes/search'\n\nvar app = express();\napp.use(errorHandler());\n\n// Configuration\nvar env = config.NODE_ENV || 'development';\nif (env === 'development') {\n    var webpack = require('webpack');\n    var webpackDevMiddleware = require('webpack-dev-middleware');\n    var WebpackConfig = require('./webpack.dev.config');\n    app.use(webpackDevMiddleware(webpack(WebpackConfig), {\n        publicPath: '/liveSearch/',\n        stats: {\n            colors: true\n        }\n    }));\n    app.set('views',__dirname + '/server/views/dev');\n}else{\n    app.set('views',__dirname + '/public/liveSearch');\n}\napp.set('view engine', 'html');\napp.engine('.html', require('ejs').__express)\n\napp.use(bodyParser.urlencoded({ extended: true }));\napp.use(bodyParser.json());\napp.use(methodOverride());\napp.use(cookieParser());\napp.use(express.static(__dirname+'/public'));\n\n//前端路由\napp.get('/', index);\napp.get('/search/:keyword',index)\napp.get('/search/:keyword/panda',index)\napp.get('/search/:keyword/huya',index)\napp.get('/search/:keyword/douyu',index)\napp.get('/search/:keyword/bili',index)\napp.get('/search/:keyword/zhanqi',index)\napp.get('/video',index)\n\n//api\napp.get('/panda/:keyword',clientApi.panda)\napp.get('/huya/:keyword',clientApi.huya)\napp.get('/douyu/:keyword',clientApi.douyu)\napp.get('/bili/:keyword',clientApi.bili)\napp.get('/zhanqi/:keyword',clientApi.zhanqi)\n\napp.listen(config.PORT, function(){\n    console.log(\"Demo Express server listening on port %d in %s mode\", config.PORT, config.NODE_ENV || '');\n});\n"]}